{"version":3,"sources":["webpack:///./src/templates/page.js","webpack:///./node_modules/react-div-100vh/lib/index.js","webpack:///./node_modules/react-div-100vh/lib/Div100vh.js","webpack:///./node_modules/react-div-100vh/lib/convertStyle/index.js","webpack:///./node_modules/react-div-100vh/lib/convertStyle/convertStyle.js","webpack:///./node_modules/jest-get-type/build/index.js","webpack:///./node_modules/react-div-100vh/lib/getWindowHeight.js"],"names":["Transition","posed","div","preEnter","y","opacity","enter","transition","duration","ease","exit","Information","styled","withConfig","displayName","componentId","props","color","Title","h1","Text","p","InfiniteScroll","Page","_this","_React$Component","call","this","state","allPages","currentInViewport","refsCollection","infiniteScroll","allPagesInit","addElements","bind","_babel_runtime_helpers_assertThisInitialized__WEBPACK_IMPORTED_MODULE_0___default","handleScroll","componentDidMount","_this4","isInfoPage","itemsPreOthers","data","_this3","uid","title","text","tags","images","map","tag","push","image_gallery","image","_this2","prismicPage","allPrismicPage","edges","node","setState","container","setTimeout","forEach","elem","isInViewport","id","bounding","getBoundingClientRect","top","height","_this5","prevState","concat","_this6","scrollHeight","scrollTop","clientHeight","length","newArray","splice","render","_this7","console","log","react__WEBPACK_IMPORTED_MODULE_2___default","a","createElement","react_div_100vh__WEBPACK_IMPORTED_MODULE_8___default","_components_seo__WEBPACK_IMPORTED_MODULE_10__","keywords","_components_logo__WEBPACK_IMPORTED_MODULE_5__","to","ref","onScroll","className","index","gatsby_image__WEBPACK_IMPORTED_MODULE_7___default","fluid","localFile","childImageSharp","React","Component","connect","dispatch","toggleIsInViewport","operator","toggleIsInfoPage","pageQuery","Object","defineProperty","exports","value","enumerable","get","_Div100vh","default","obj","__webpack_require__","__esModule","_react","_interopRequireDefault","_convertStyle","_getWindowHeight","_typeof","Symbol","iterator","constructor","prototype","_extends","assign","target","i","arguments","source","key","hasOwnProperty","apply","_defineProperties","descriptor","configurable","writable","_getPrototypeOf","o","setPrototypeOf","getPrototypeOf","__proto__","_setPrototypeOf","_assertThisInitialized","self","ReferenceError","_defineProperty","Div100vh","_getPrototypeOf2","instance","Constructor","TypeError","_classCallCheck","_len","args","Array","_key","style","convertedStyle","protoProps","staticProps","subClass","superClass","create","_inherits","updateStyle","window","addEventListener","removeEventListener","containsRvh","propertyValue","test","_jestGetType","_default","givenStyle","windowHeight","undefined","Error","throwOnBadArgs","usedStyle","keys","propertyStringValue","replace","_","rvh","parseFloat","replaceRvhWithPx","module","isArray","RegExp","Map","Set","Date","innerHeight"],"mappings":"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","file":"component---src-templates-page-js-dc5c5d93ccac5a21ff1e.js","sourcesContent":["import React from \"react\"\nimport { graphql } from \"gatsby\"\nimport styled from \"styled-components\"\nimport posed from \"react-pose\"\nimport Logo from \"../components/logo\"\nimport { connect } from 'react-redux'\nimport Img from \"gatsby-image\"\nimport Div100vh from 'react-div-100vh'\nimport { isInfoPage, toggleIsInfoPage, isInViewport, toggleIsInViewport } from '../state/app'\n\nimport SEO from \"../components/seo\"\n\n\nconst Transition = posed.div({\n  preEnter: {\n    y: 1000,\n    opacity: 1,\n  },\n  enter: {\n    opacity: 1,\n    y: 0,\n    transition: {\n      duration: 600,\n      ease: 'easeInOut'\n      }\n  },\n    exit: { \n      y: 0,\n      opacity: 0.5,\n    transition: {\n      duration: 600,\n      ease: 'easeInOut'\n      },\n      \n  },\n})\n\nconst Information = styled.div`\n  background-color: ${props => props.color};\n  font-family: 'Calibre-Regular';\n  color: white;\n  height: 100%;\n  position: relative;\n  z-index: -1;\n\n  @media(min-width: 992px) {\n    height: 100%;\n  }\n`\nconst Title = styled.h1`\n  font-size: 48px;\n  margin-left: 25px;\n  margin-right: 25px;\n  padding-top: 25px;\n`\n\nconst Text = styled.p`\n  font-size: 24px;\n  margin-left: 25px;\n  margin-right: 25px;\n  padding-top: 25px;\n  max-width: 800px;\n`\nconst InfiniteScroll = styled.div`\n  height: 100vh;\n  overflow-y: scroll;\n`\n\nconst mapStateToProps = (state) => {\n  return {\n      isInfoPage: state.isInfoPage,\n      isInViewport: state.isInViewport\n  }\n}\n\n\nclass Page extends React.Component {\n  constructor(props){\n    super(props);\n\n    this.state = {\n      allPages: [],\n      currentInViewport: null\n    }\n\n    this.refsCollection = [];\n    this.infiniteScroll = null;\n    this.allPagesInit = null;\n\n    this.addElements = this.addElements.bind(this);\n    this.handleScroll = this.handleScroll.bind(this);\n  }\n\n  componentDidMount(){\n\n    this.props.isInfoPage(false);\n  \n\n    let allPages = [];\n\n    let itemsPreMain = function(data) {\n      this.uid = data.uid;\n      this.title = data.data.title.text;\n      this.color = data.data.color;\n      this.text = data.data.text.text;\n      this.tags = [];\n      this.images = [];\n      data.tags.map(tag => {return this.tags.push(tag)});\n      data.data.image_gallery.map(image => {return this.images.push(image)});\n    }\n\n    let itemsPreOthers = function(data) {\n      this.uid = data.uid;\n      this.title = data.data.title.text;\n      this.color = data.data.color;\n      this.text = data.data.text.text;\n      this.tags = [];\n      this.images = [];\n      data.tags.map(tag => {return this.tags.push(tag)});\n      data.data.image_gallery.map(image => {return this.images.push(image)});\n    }\n\n    allPages.push(new itemsPreMain(this.props.data.prismicPage));\n\n    this.props.data.allPrismicPage.edges.map((data) => {\n      return allPages.push(new itemsPreOthers(data.node));\n    });\n\n    this.setState({\n      allPages: allPages\n    });\n\n    this.allPagesInit = allPages;\n\n    this.container = this.infiniteScroll;\n    \n    setTimeout(()=>{\n      this.refsCollection.forEach((elem) => {\n\n        if(this.isInViewport(elem)) {\n  \n  \n          this.props.isInViewport(elem.id);\n  \n        }\n      })\n    }, 750);\n\n    this.isInViewport = function(elem) {\n      \n      var bounding = elem.getBoundingClientRect();\n\n      if (bounding) {\n        return (\n          (bounding.top >= -100 &&\n          bounding.top <= 0)\n          ||\n          (bounding.top <= -bounding.height+100 &&\n          bounding.top >= -bounding.height)\n      );\n      }\n    };\n    \n  }\n\n  addElements()Â {\n    \n    this.setState(prevState => ({\n      allPages: [...prevState.allPages, ...this.allPagesInit]\n    }));\n\n  }\n\n\n  handleScroll() {\n\n      if(this.container.scrollHeight - this.container.scrollTop >= this.container.clientHeight - 100 && this.container.scrollHeight - this.container.scrollTop <= this.container.clientHeight ) {\n        this.addElements();\n      }\n\n      this.refsCollection.forEach((elem) => {\n\n        if(this.isInViewport(elem)) {\n\n\n          this.props.isInViewport(elem.id);\n\n\n        }\n      })\n\n      if(this.refsCollection.length > 24) {\n        let array = [...this.state.allPages];\n        let newArray = array.splice(0, 4);\n\n        this.setState({\n          allPages: newArray\n        });\n      }\n\n  }\n\nrender(){\n  console.log(this.state.allPages);\n  return (\n    <Transition>\n      <Div100vh>\n      <SEO title=\"Projects\" keywords={[`Karlanders`, `immo`, `Projects`]} />\n      <Logo to={'/info'}/>\n      <InfiniteScroll ref={ div => this.infiniteScroll = div} onScroll={this.handleScroll} className='infinite-scroll'>\n      \n      {\n        this.state.allPages.map((data, index) => {\n          return (\n            <div ref={(div)=>{this.refsCollection[index] = div}} id={`${data.uid}`}>\n            {data.images.map((image, index) => (\n              <Img fluid={image.image.localFile.childImageSharp.fluid} />\n                // <img key={index} src={image.image.url} />\n            ))\n            }\n                     \n          <Information color={`${data.color}`}>\n            <Title>{data.title}</Title>\n            <Text>{data.text}</Text>\n            {/* <Tags>{data.tags}</Tags> */}\n          </Information>\n\n          </div>\n            )\n        })\n      }\n      </InfiniteScroll> \n      </Div100vh>\n    </Transition>  \n  )\n  }\n}\n\nexport default connect(\n  mapStateToProps,\n  dispatch => ({ isInViewport: elem => dispatch(toggleIsInViewport(elem)) ,\n                 isInfoPage: operator => dispatch(toggleIsInfoPage(operator)) }),\n)(Page);\n\nexport const pageQuery = graphql`\n  query PostBySlug($uid: String!) {\n    prismicPage(uid: { eq: $uid }) {\n      tags\n      uid\n      data {\n        title {\n          text\n        }\n        text {\n          text\n        }\n        color\n        image_gallery {\n          image {\n            alt\n            copyright\n            url\n            localFile {\n              childImageSharp {\n                fluid(maxWidth: 1500) {\n                  ...GatsbyImageSharpFluid_withWebp\n                }\n              }\n            }\n          }\n        }\n      }\n    },\n    allPrismicPage(filter: { uid: {ne: $uid}}) {\n      edges {\n        node {\n          tags\n          uid\n          data {\n            title {\n              text\n            }\n            text {\n              text\n            }\n            color\n            image_gallery {\n              image {\n                alt\n                url\n                localFile {\n                  childImageSharp {\n                    fluid(maxWidth: 1500) {\n                      ...GatsbyImageSharpFluid_withWebp\n                    }\n                  }\n                }\n              }\n            }\n          }\n        }\n      }\n    }\n  }\n`\n","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _Div100vh.default;\n  }\n});\n\nvar _Div100vh = _interopRequireDefault(require(\"./Div100vh\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _convertStyle = _interopRequireDefault(require(\"./convertStyle\"));\n\nvar _getWindowHeight = _interopRequireDefault(require(\"./getWindowHeight\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); return Constructor; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } return _assertThisInitialized(self); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nvar Div100vh =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Div100vh, _React$Component);\n\n  function Div100vh() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Div100vh);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Div100vh)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"state\", {\n      style: {}\n    });\n\n    _defineProperty(_assertThisInitialized(_assertThisInitialized(_this)), \"updateStyle\", function () {\n      var convertedStyle = (0, _convertStyle.default)(_this.props.style, (0, _getWindowHeight.default)());\n\n      _this.setState({\n        style: convertedStyle\n      });\n    });\n\n    return _this;\n  }\n\n  _createClass(Div100vh, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.updateStyle();\n      window.addEventListener('resize', this.updateStyle);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      window.removeEventListener('resize', this.updateStyle);\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return _react.default.createElement(\"div\", _extends({}, this.props, {\n        style: this.state.style\n      }));\n    }\n  }]);\n\n  return Div100vh;\n}(_react.default.Component);\n\nexports.default = Div100vh;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nObject.defineProperty(exports, \"default\", {\n  enumerable: true,\n  get: function get() {\n    return _convertStyle.default;\n  }\n});\n\nvar _convertStyle = _interopRequireDefault(require(\"./convertStyle\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.containsRvh = containsRvh;\nexports.default = void 0;\n\nvar _jestGetType = _interopRequireDefault(require(\"jest-get-type\"));\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction containsRvh(propertyValue) {\n  // TODO: when regexp is lifted up the lexical scope, to be used\n  // in both `containsRvh` and `replaceRvhWithPx`, some tests start to\n  // fail. Seems like a regexp object contains some weird state that\n  // changes after executions; executions interfere with each other.\n  // It would be nice to figure out what is the problem exactly.\n  var rvhRegex = /(\\d+(\\.\\d*)?)rvh(?!\\w)/;\n  return rvhRegex.test(propertyValue);\n}\n\nfunction replaceRvhWithPx(propertyStringValue, windowHeight) {\n  // regexp is global to make #replace work multiple times\n  var rvhRegex = /(\\d+(\\.\\d*)?)rvh(?!\\w)/g;\n  return propertyStringValue.replace(rvhRegex, function (_, rvh) {\n    return \"\".concat(windowHeight * parseFloat(rvh) / 100, \"px\");\n  });\n}\n\nfunction throwOnBadArgs(givenStyle, windowHeight) {\n  if ((0, _jestGetType.default)(givenStyle) !== 'object' && givenStyle !== undefined) throw Error(\"style (the first argument) must be an object or undefined\");\n  if (typeof windowHeight !== 'number' || windowHeight < 0) throw Error('Second argument (windowHeight) must be a non-negative number');\n}\n\nfunction convertStyle(givenStyle, windowHeight) {\n  throwOnBadArgs(givenStyle, windowHeight); // If style is not passed, implicit {height: '100rvh'} style is used.\n\n  var defaultStyle = {\n    height: '100rvh'\n  };\n  var usedStyle = givenStyle === undefined ? defaultStyle : givenStyle;\n  var convertedStyle = {};\n  Object.keys(usedStyle).forEach(function (key) {\n    // if a value contains no rvh unit, it's used as is, otherwise converted\n    // to px; 1rvh = (window.innerHeight / 100)px\n    convertedStyle[key] = replaceRvhWithPx(usedStyle[key], windowHeight);\n  });\n  return convertedStyle;\n}\n\nvar _default = convertStyle;\nexports.default = _default;","/**\n * Copyright (c) 2014-present, Facebook, Inc. All rights reserved.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n *\n * \n */\n\n'use strict';\n\n// get the type of a value with handling the edge cases like `typeof []`\n// and `typeof null`\nconst getType = value => {\n  if (value === undefined) {\n    return 'undefined';\n  } else if (value === null) {\n    return 'null';\n  } else if (Array.isArray(value)) {\n    return 'array';\n  } else if (typeof value === 'boolean') {\n    return 'boolean';\n  } else if (typeof value === 'function') {\n    return 'function';\n  } else if (typeof value === 'number') {\n    return 'number';\n  } else if (typeof value === 'string') {\n    return 'string';\n  } else if (typeof value === 'object') {\n    if (value.constructor === RegExp) {\n      return 'regexp';\n    } else if (value.constructor === Map) {\n      return 'map';\n    } else if (value.constructor === Set) {\n      return 'set';\n    } else if (value.constructor === Date) {\n      return 'date';\n    }\n    return 'object';\n    // $FlowFixMe https://github.com/facebook/flow/issues/1015\n  } else if (typeof value === 'symbol') {\n    return 'symbol';\n  }\n\n  throw new Error(`value of unknown type: ${value}`);\n};\n\nmodule.exports = getType;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n// extracted into a separate module so it's easier to mock with Jest\nfunction getWindowHeight() {\n  return window.innerHeight;\n}\n\nvar _default = getWindowHeight;\nexports.default = _default;"],"sourceRoot":""}